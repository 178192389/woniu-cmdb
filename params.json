{
  "name": "woniu-cmdb",
  "tagline": "写配置文件生成增删改查系统，根据Reboot学员的提的需求做出，解放运维人员",
  "body": "# [woniu-cmdb](http://shengxinjing.cn/woniu-cmdb/)\r\n### :snail: 奇技淫巧--写配置文件生成增删改查系统:mushroom: \r\n### [视频教程](http://v.qq.com/page/u/p/9/u01775jmmp9.html)\r\n\r\n<iframe class=\"video_iframe\" style=\"z-index: 1; width: 670px !important; height: 502.5px !important; overflow: hidden;\" height=\"502.5\" width=\"670\" frameborder=\"0\" data-src=\"https://v.qq.com/iframe/preview.html?vid=o0177n0nfav&amp;width=500&amp;height=375&amp;auto=0\" allowfullscreen=\"\" src=\"https://v.qq.com/iframe/player.html?vid=o0177n0nfav&amp;width=670&amp;height=502.5&amp;auto=0\" scrolling=\"no\"></iframe>\r\n\r\n\r\n[线上demo](http://admin.51reboot.com/),此页面都是一个配置文件自动生成的\r\n\r\n详细的文章介绍和实现原理分析会发布在我的[博客](https://github.com/shengxinjing/my_blog/issues)，敬请期待\r\n\r\n\r\n> 运维人员都不喜欢搞CMDB，因为有很多前端的内容，但CMDB却在运维圈占有重要的地位，开发CMDB就是各种增删改查，之后我有个想法，做一个写配置文件就自动生成页面的CMDB, 请支持我的woniu-cmdb,喜欢请star\r\n\r\n### 写好配置文件，自从生成页增删改查面不是梦\r\n\r\n此项目不仅限于cmdb，各种管理系统，都可以用此项目配置，改成学生老师啥的，就变成了学校内部的mis系统，我会一直维护这个项目，大家有新需求请提issue\r\n\r\n### 效果图（我们只写左边的配置，右边的是自动生成的）\r\n![](http://7xjoq9.com1.z0.glb.clouddn.com/cmdb01.png)\r\n\r\n\r\n### 简单配置，生成页面\r\n命令只有两个\r\n\r\n```\r\npython woniu-build.py init # 初始化数据库+根据配置生成文件\r\n\r\npython woniu-build.py 仅根绝配置生成文件 \r\n```\r\n### 使用指南\r\n\r\n1. 下载该项目到本地\r\n2. config.py是我们唯一要修改的文件\r\n2. 修改config.py里的db_config变量，配置数据库的host，用户名，密码和要操作的数据库\r\n\r\n```python\r\ndb_config = {\r\n    'host':'localhost',\r\n    'user':'root',\r\n    'passwd':\"\",\r\n    'db':'cmdb'\r\n}\r\n\r\n```\r\n\r\n\r\n3. 修改config.py的page_config变量，此变量是设置具体的页面变量，先做一个简单的配置\r\n\r\n```\r\n\r\npage_config = {\r\n    # menu是一个list，包含所有的页面信息\r\n    \"menu\":[{\r\n        //页面的名字，和数据库表一致\r\n        \"name\": 'user',\r\n        // 显示的页面标题\r\n        \"title\": '用户管理',\r\n\r\n        # 页面里具体的字段，如果有两个字段，配置两个即可，包含name和title\r\n        \"data\": [{\r\n            \"name\": 'username',\r\n            \"title\": '用户名'\r\n        },{\r\n            \"name\":'password',\r\n            \"title\":'密码'\r\n        }]\r\n    }}]\r\n}\r\n\r\n```\r\n\r\n4. 执行 python woniu-build.py 处理文件，启动flask_web.py，浏览器访问http://localhost:9092/\r\n5. 默认有一个用户，账号和密码都是51reboot\r\n\r\n\r\n### 字段详解\r\n\r\n1. page_config配置\r\n\r\n```\r\n    menu:下面具体介绍，页面具体的字段\r\n    favicon:页面标签的小logo 默认用reboot的\r\n    title：页面标签的标题，默认是woniu-cmdb\r\n    brand_name：项目左上角显示文字，默认是woniu-cmdb\r\n\r\n```\r\n\r\n2. menu配置详解\r\n```\r\n\r\n{\r\n    name:名字和数据库表名一直\r\n    titile:中文\r\n    modal_detail:是否用模态窗展示详情（有隐藏字段没展示）\r\n    具体字段数据\r\n    data：[\r\n        {\r\n            name:\r\n            title:\r\n            type:类型，默认input text\r\n            value：select直接从value里渲染，不发ajax和preload，如果没有type，就是input里的value属性\r\n\r\n            select_type：获取数据的action_type的值,和对应的name字段一致\r\n            toname:preload数据里，完成id到name得转换显示，select默认true\r\n             hide:默认false，true的话隐藏此字段\r\n             \r\n            option_val list的显示字段 默认id\r\n            option_name list的显示字段 默认name\r\n\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\ntodolist:\r\n* 登录权限+页面权限\r\n* 更丰富的前端组件，现在只支持输入，日期和下啦框\r\n* 大家有需求请提issues 我会持续维护这个项目，\r\n\r\n### 依赖\r\n\r\n本项目python依赖flask和mysqldb模块，直接pip安装一下即可\r\n\r\n<p>运维开发交流QQ群：<a target=\"_blank\" href=\"http://shang.qq.com/wpa/qunwpa?idkey=f03fd72ed353ccfc801d393529aed84e2a663334caba7af88aa2a29620636549\"><img border=\"0\" src=\"http://pub.idqqimg.com/wpa/images/group.png\" alt=\"Reboot【二】\" title=\"Reboot【二】\"></a></p>\r\n欢迎大家关注公共号,高品质运维开发\r\n\r\n![](http://7xjoq9.com1.z0.glb.clouddn.com/erweima.jpg)\r\n\r\n\r\n如果您觉得有我写的东西对你帮助，可以打赏点钱给我支付宝支付宝316783812@qq.com或者扫二维码\r\n\r\n![](http://7xjoq9.com1.z0.glb.clouddn.com/zhifubao.png)\r\n",
  "google": "",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}