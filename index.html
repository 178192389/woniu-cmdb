<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>woniu-cmdb by shengxinjing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">woniu-cmdb</h1>
      <h2 class="project-tagline">写配置文件生成增删改查系统，根据Reboot学员的提的需求做出，解放运维人员</h2>
      <a href="https://github.com/shengxinjing/woniu-cmdb" class="btn">View on GitHub</a>
      <a href="https://github.com/shengxinjing/woniu-cmdb/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/shengxinjing/woniu-cmdb/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="woniu-cmdb" class="anchor" href="#woniu-cmdb" aria-hidden="true"><span class="octicon octicon-link"></span></a>woniu-cmdb</h1>

<h3>
<a id="snail-奇技淫巧--写配置文件生成增删改查系统mushroom" class="anchor" href="#snail-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7--%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E7%B3%BB%E7%BB%9Fmushroom" aria-hidden="true"><span class="octicon octicon-link"></span></a><img class="emoji" title=":snail:" alt=":snail:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f40c.png" height="20" width="20" align="absmiddle"> 奇技淫巧--写配置文件生成增删改查系统<img class="emoji" title=":mushroom:" alt=":mushroom:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f344.png" height="20" width="20" align="absmiddle">
</h3>

<h3>
<a id="视频教程" class="anchor" href="#%E8%A7%86%E9%A2%91%E6%95%99%E7%A8%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a><a href="http://v.qq.com/page/u/p/9/u01775jmmp9.html">视频教程</a>
</h3>



<p><a href="http://admin.51reboot.com/">线上demo</a>,此页面都是一个配置文件自动生成的</p>

<blockquote>
<p>运维人员都不喜欢搞CMDB，因为有很多前端的内容，但CMDB却在运维圈占有重要的地位，开发CMDB就是各种增删改查，之后我有个想法，做一个写配置文件就自动生成页面的CMDB, 请支持我的woniu-cmdb,喜欢请star</p>
</blockquote>

<h3>
<a id="写好配置文件自从生成页增删改查面不是梦" class="anchor" href="#%E5%86%99%E5%A5%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%87%AA%E4%BB%8E%E7%94%9F%E6%88%90%E9%A1%B5%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E9%9D%A2%E4%B8%8D%E6%98%AF%E6%A2%A6" aria-hidden="true"><span class="octicon octicon-link"></span></a>写好配置文件，自从生成页增删改查面不是梦</h3>

<p>此项目不仅限于cmdb，各种管理系统，都可以用此项目配置，改成学生老师啥的，就变成了学校内部的mis系统，我会一直维护这个项目，大家有新需求请提issue</p>

<h3>
<a id="效果图我们只写左边的配置右边的是自动生成的" class="anchor" href="#%E6%95%88%E6%9E%9C%E5%9B%BE%E6%88%91%E4%BB%AC%E5%8F%AA%E5%86%99%E5%B7%A6%E8%BE%B9%E7%9A%84%E9%85%8D%E7%BD%AE%E5%8F%B3%E8%BE%B9%E7%9A%84%E6%98%AF%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E7%9A%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>效果图（我们只写左边的配置，右边的是自动生成的）</h3>

<p><img src="http://7xjoq9.com1.z0.glb.clouddn.com/cmdb01.png" alt=""></p>

<h3>
<a id="简单配置生成页面" class="anchor" href="#%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE%E7%94%9F%E6%88%90%E9%A1%B5%E9%9D%A2" aria-hidden="true"><span class="octicon octicon-link"></span></a>简单配置，生成页面</h3>

<p>命令只有两个</p>

<pre><code>python woniu-build.py init # 初始化数据库+根据配置生成文件

python woniu-build.py 仅根绝配置生成文件 
</code></pre>

<h3>
<a id="使用指南" class="anchor" href="#%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用指南</h3>

<ol>
<li>下载该项目到本地</li>
<li>config.py是我们唯一要修改的文件</li>
<li>修改config.py里的db_config变量，配置数据库的host，用户名，密码和要操作的数据库</li>
</ol>

<div class="highlight highlight-source-python"><pre>db_config <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">'</span>host<span class="pl-pds">'</span></span>:<span class="pl-s"><span class="pl-pds">'</span>localhost<span class="pl-pds">'</span></span>,
    <span class="pl-s"><span class="pl-pds">'</span>user<span class="pl-pds">'</span></span>:<span class="pl-s"><span class="pl-pds">'</span>root<span class="pl-pds">'</span></span>,
    <span class="pl-s"><span class="pl-pds">'</span>passwd<span class="pl-pds">'</span></span>:<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">'</span>db<span class="pl-pds">'</span></span>:<span class="pl-s"><span class="pl-pds">'</span>cmdb<span class="pl-pds">'</span></span>
}
</pre></div>

<ol>
<li>修改config.py的page_config变量，此变量是设置具体的页面变量，先做一个简单的配置</li>
</ol>

<pre><code>
page_config = {
    # menu是一个list，包含所有的页面信息
    "menu":[{
        //页面的名字，和数据库表一致
        "name": 'user',
        // 显示的页面标题
        "title": '用户管理',

        # 页面里具体的字段，如果有两个字段，配置两个即可，包含name和title
        "data": [{
            "name": 'username',
            "title": '用户名'
        },{
            "name":'password',
            "title":'密码'
        }]
    }}]
}

</code></pre>

<ol>
<li>执行 python woniu-build.py 处理文件，启动flask_web.py，浏览器访问http://localhost:9092/</li>
<li>默认有一个用户，账号和密码都是51reboot</li>
</ol>

<h3>
<a id="字段详解" class="anchor" href="#%E5%AD%97%E6%AE%B5%E8%AF%A6%E8%A7%A3" aria-hidden="true"><span class="octicon octicon-link"></span></a>字段详解</h3>

<ol>
<li>page_config配置</li>
</ol>

<pre><code>    menu:下面具体介绍，页面具体的字段
    favicon:页面标签的小logo 默认用reboot的
    title：页面标签的标题，默认是woniu-cmdb
    brand_name：项目左上角显示文字，默认是woniu-cmdb

</code></pre>

<ol>
<li>menu配置详解</li>
</ol>

<pre><code>
{
    name:名字和数据库表名一直
    titile:中文
    modal_detail:是否用模态窗展示详情（有隐藏字段没展示）
    具体字段数据
    data：[
        {
            name:
            title:
            type:类型，默认input text
            value：select直接从value里渲染，不发ajax和preload，如果没有type，就是input里的value属性

            select_type：获取数据的action_type的值,和对应的name字段一致
            toname:preload数据里，完成id到name得转换显示，select默认true
             hide:默认false，true的话隐藏此字段

            option_val list的显示字段 默认id
            option_name list的显示字段 默认name

        }
    ]
}
</code></pre>

<p>todolist:</p>

<ul>
<li>登录权限+页面权限</li>
<li>更丰富的前端组件，现在只支持输入，日期和下啦框</li>
<li>大家有需求请提issues 我会持续维护这个项目，</li>
</ul>

<h3>
<a id="依赖" class="anchor" href="#%E4%BE%9D%E8%B5%96" aria-hidden="true"><span class="octicon octicon-link"></span></a>依赖</h3>

<p>本项目python依赖flask和mysqldb模块，直接pip安装一下即可</p>

<p>运维开发交流QQ群：<a target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=f03fd72ed353ccfc801d393529aed84e2a663334caba7af88aa2a29620636549"><img border="0" src="http://pub.idqqimg.com/wpa/images/group.png" alt="Reboot【二】" title="Reboot【二】"></a></p>

<p>欢迎大家关注公共号,高品质运维开发</p>

<p><img src="http://7xjoq9.com1.z0.glb.clouddn.com/erweima.jpg" alt=""></p>

<p>如果您觉得有我写的东西对你帮助，可以打赏点钱给我支付宝支付宝<a href="mailto:316783812@qq.com">316783812@qq.com</a>或者扫二维码</p>

<p><img src="http://7xjoq9.com1.z0.glb.clouddn.com/zhifubao.png" alt=""></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/shengxinjing/woniu-cmdb">woniu-cmdb</a> is maintained by <a href="https://github.com/shengxinjing">shengxinjing</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
